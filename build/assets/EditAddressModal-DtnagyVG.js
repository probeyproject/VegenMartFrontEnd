import{R as L,G as R,a as ee,s as se,r,j as e,B as C,b as Y}from"./index-WOnQHM8K.js";import{t as ae,P as v,m as I,c as te,M as D,g as V}from"./HeaderMiddle-xqhyJlO4.js";import{M as G}from"./HeaderBottom-Dy3OY4qr.js";import{a as W}from"./1-BUmjTln7.js";var re=["className","cssModule","type","size","color","children","tag"];function $(){return $=Object.assign?Object.assign.bind():function(a){for(var c=1;c<arguments.length;c++){var t=arguments[c];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},$.apply(this,arguments)}function ne(a,c){if(a==null)return{};var t=le(a,c),o,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(n=0;n<l.length;n++)o=l[n],!(c.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(a,o)&&(t[o]=a[o])}return t}function le(a,c){if(a==null)return{};var t={},o=Object.keys(a),n,l;for(l=0;l<o.length;l++)n=o[l],!(c.indexOf(n)>=0)&&(t[n]=a[n]);return t}var de={tag:ae,type:v.oneOf(["border","grow"]),size:v.oneOf(["sm"]),color:v.oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:v.string,cssModule:v.object,children:v.string};function B(a){var c=a.className,t=a.cssModule,o=a.type,n=o===void 0?"border":o,l=a.size,p=a.color,m=a.children,x=m===void 0?"Loading...":m,u=a.tag,j=u===void 0?"div":u,h=ne(a,re),i=I(te(c,l?"spinner-".concat(n,"-").concat(l):!1,"spinner-".concat(n),p?"text-".concat(p):!1),t);return L.createElement(j,$({role:"status"},h,{className:i}),x&&L.createElement("span",{className:I("visually-hidden",t)},x))}B.propTypes=de;const U="/assets/address-B028Bb-V.jpg";function J(a){return R({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5H15v-18a.75.75 0 0 0 0-1.5H3ZM6.75 19.5v-2.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 0 1.5h-.75A.75.75 0 0 1 6 6.75ZM6.75 9a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM6 12.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 6a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75Zm-.75 3.75A.75.75 0 0 1 10.5 9h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 12a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM16.5 6.75v15h5.25a.75.75 0 0 0 0-1.5H21v-12a.75.75 0 0 0 0-1.5h-4.5Zm1.5 4.5a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Zm.75 2.25a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75h-.008ZM18 17.25a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"},child:[]}]})(a)}function K(a){return R({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(a)}function ue({isOpen:a,toggle:c,onClose:t,userId:o}){const n=ee(se),[l,p]=r.useState((n==null?void 0:n.address)||""),[m,x]=r.useState((n==null?void 0:n.society_name)||""),[u,j]=r.useState((n==null?void 0:n.pin_code)||""),[h,i]=r.useState(!1),[g,A]=r.useState(""),[f,M]=r.useState(""),[b,O]=r.useState(null),[E,P]=r.useState(""),[N,q]=r.useState(""),[_,y]=r.useState(""),[S,z]=r.useState(""),k=async d=>{if(d.preventDefault(),!f){C.warn("Please select address type.");return}i(!0);const Z={user_id:o,address_type:f,floor:E,landmark:N,state:S,flat:l,area:m,postal_code:u,name:_,phone:g};try{const H=await W.post(`${Y}/create/address`,Z);C.success(H.data.message),i(!1),c()}catch{i(!1),C.error("Failed to save address.")}finally{i(!1),t()}},w=d=>{O(d),M(d)};return e.jsxs(D,{isOpen:a,toggle:c,size:"lg",children:[e.jsx(G,{toggle:c,children:e.jsx("h5",{children:"Enter Complete Address"})}),e.jsx(V,{children:e.jsx("div",{className:"container mt-3",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"form-group mb-4",children:e.jsx("div",{id:"map",className:"border rounded p-3 shadow-sm",children:e.jsx("img",{src:U,alt:"Map",className:"img-fluid rounded"})})})}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{children:["Select Address Type",e.jsx("span",{className:"text-danger",children:"*"})]}),h?e.jsx("div",{className:"text-center",children:e.jsx(B,{size:"lg",color:"primary"})}):e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"btn-group mb-3 d-flex gap-2",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:`btn btn-outline-danger ${b==="Home"?"active":""}`,onClick:()=>w("Home"),children:[e.jsx("div",{children:e.jsx(K,{})}),"Home"]})}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:`btn btn-outline-danger ${b==="Office"?"active":""}`,onClick:()=>w("Office"),children:[e.jsx("div",{children:e.jsx(J,{})}),"Office"]})})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsxs("label",{children:["Flat / House No / Building Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter house no",onChange:d=>p(d.target.value),required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{htmlFor:"area",children:"Society / Locality"}),e.jsx("input",{type:"text",className:"form-control",id:"area",value:m,onChange:d=>x(d.target.value),required:!0,readOnly:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsxs("label",{children:["Nearby Landmark",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",value:N,onChange:d=>q(d.target.value),placeholder:"Enter nearby landmark",required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsxs("label",{children:["Your Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",value:_,onChange:d=>y(d.target.value),placeholder:"Enter your name",required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsxs("label",{children:["Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",value:l,onChange:d=>P(d.target.value),placeholder:"Enter Area",required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsxs("label",{children:["State",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",value:S,onChange:d=>z(d.target.value),placeholder:"Enter state",required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{htmlFor:"postalCode",children:"Pincode"}),e.jsx("input",{type:"text",className:"form-control",id:"postalCode",value:u,onChange:d=>j(d.target.value),required:!0,readOnly:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsxs("label",{htmlFor:"phoneNumber",children:["Phone Number",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Phone no.",id:"phoneNumber",value:g,onChange:d=>A(d.target.value),required:!0})]}),e.jsx("div",{className:"form-group mt-3",children:e.jsx("button",{type:"submit",className:"btn btn-animation mt-4 w-50",disabled:h,children:h?e.jsx(B,{size:"sm"}):"Save Address"})})]})]})]})})})]})}function he({isOpen:a,toggle:c,data:t,userId:o,onClose:n,locations:l}){const[p,m]=r.useState(""),[x,u]=r.useState(""),[j,h]=r.useState(""),[i,g]=r.useState(""),[A,f]=r.useState(""),[M,b]=r.useState(""),[O,E]=r.useState(""),[P,N]=r.useState(!1),[q,_]=r.useState(""),[y,S]=r.useState(""),[z,k]=r.useState(""),[w,d]=r.useState(""),[Z,H]=r.useState(""),T=s=>{S(s),_(s)};r.useEffect(()=>{t&&(m(t.flat||""),u(t.floor||""),h(t.area||""),g(t.landmark||""),E(t.postal_code||""),S(t.address_type||""),H(t.phone||""),f(t.name||""),b(t.state||""),d(t.address_id),k(Z.slice(3)))},[t]);const Q=async s=>{s.preventDefault(),N(!0);const X={address_type:y,flat:p,floor:x,area:j,landmark:i,state:M,postal_code:O,name:A,phone:z};try{const F=await W.put(`${Y}/updateAddressById/${w}`,X);C.success("Address Edit successful!")}catch(F){console.error("Error Edit address:",F),C.error("Some technical issue your address not edit")}finally{N(!1),n()}};return e.jsx("div",{children:e.jsxs(D,{isOpen:a,toggle:c,size:"lg",className:"modal-dialog-centered",children:[e.jsx(G,{toggle:c,className:"fw-bold text-center",children:e.jsx("h5",{children:"Edit Address"})}),e.jsx(V,{children:e.jsx("div",{className:"container mt-3",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"form-group mb-4",children:e.jsx("div",{id:"map",className:"border rounded p-3 shadow-sm",children:e.jsx("img",{src:U,alt:"Map",className:"img-fluid rounded"})})})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Save Address As"}),e.jsxs("form",{onSubmit:Q,children:[e.jsxs("div",{className:"btn-group mb-3",children:[e.jsxs("button",{type:"button",className:`btn btn-outline-danger ${y==="Home"?"active":""}`,onClick:()=>T("Home"),children:[e.jsx(K,{})," Home"]}),e.jsxs("button",{type:"button",className:`btn btn-outline-danger ${y==="Office"?"active":""}`,onClick:()=>T("Office"),children:[e.jsx(J,{})," Office"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Flat / House No / Building Name"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter house no",value:p,onChange:s=>m(s.target.value),required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"Society / Locality"}),e.jsxs("select",{className:"ms-2 rounded-1",style:{height:"28px"},onChange:s=>h(s.target.value),value:j,children:[e.jsx("option",{disabled:!0,children:"Your Society"}),l==null?void 0:l.map(s=>e.jsxs("option",{style:{fontSize:"0.85rem"},value:s.society_name,children:[" ",`${s.society_name.substring(0,19)}...`]},s.id))]})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"Address"}),e.jsxs("select",{className:"rounded-1 ms-2",style:{height:"28px"},onChange:s=>u(s.target.value),value:x,children:[e.jsx("option",{disabled:!0,children:"Your Address"}),l==null?void 0:l.map(s=>e.jsxs("option",{style:{fontSize:"0.85rem"},value:s.address,children:[" ",`${s.address.substring(0,19)}...`]},s.id))]})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"Nearby Landmark "}),e.jsx("input",{type:"text",className:"form-control",value:i,onChange:s=>g(s.target.value),placeholder:"Enter nearby landmark",required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"Your Name"}),e.jsx("input",{type:"text",className:"form-control",value:A,onChange:s=>f(s.target.value),placeholder:"Enter your name",required:!0})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"Your Phone no."}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Phone",onChange:s=>k(s.target.value)})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",className:"form-control",value:M,onChange:s=>b(s.target.value),placeholder:"Enter state"})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsxs("label",{children:["Pincode ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{className:" ms-2 rounded-1",style:{height:"28px"},value:O,onChange:s=>E(s.target.value),children:[e.jsx("option",{disabled:!0,children:"Pincode"}),l==null?void 0:l.map(s=>e.jsxs("option",{style:{fontSize:"0.85rem"},value:s.pin_code,children:[" ",s.pin_code]},s.id))]})]}),e.jsx("button",{type:"submit",className:"btn btn-animation mt-4 w-50",disabled:P,children:P?e.jsx(B,{size:"sm"}):"Save Address"})]})]})]})})})]})})}export{he as E,ue as H};
