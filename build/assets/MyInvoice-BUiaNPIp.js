import{d as v,r as i,j as e,b as p}from"./index-WOnQHM8K.js";import{l as o,a as b}from"./1-BUmjTln7.js";const g=r=>{const s=new Date(r),l=String(s.getDate()).padStart(2,"0"),n=String(s.getMonth()+1).padStart(2,"0"),d=s.getFullYear();return`${l}-${n}-${d}`},w=()=>{const{orderId:r}=v(),[s,l]=i.useState([]),[n,d]=i.useState(""),[h,x]=i.useState("");i.useEffect(()=>{d(Math.floor(1e5+Math.random()*9e5))},[]);const j=async()=>{try{const c=(await b.get(`${p}/getOrderById/${r}`)).data;l(c)}catch(t){console.error("Error fetching orders:",t)}};i.useEffect(()=>{j()},[]),i.useEffect(()=>{x((()=>{const c=new Date,m=c.getDate(),N=c.toLocaleString("default",{month:"short"}),u=c.getFullYear();return`${m}-${N}-${u}`})())},[]);const a=()=>{window.print()};return e.jsx("section",{className:"theme-invoice-1",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xxl-6 col-xl-8 mx-auto my-3",children:e.jsxs("div",{className:"invoice-wrapper",children:[e.jsxs("div",{className:"invoice-header",children:[e.jsx("div",{className:"header-image",children:e.jsx("img",{src:o,className:"img-fluid h-25 w-25",alt:"logo"})}),e.jsx("div",{className:"header-content",children:e.jsx("h3",{children:"Invoice"})})]}),e.jsxs("div",{className:"invoice-body",children:[e.jsx("div",{className:"top-sec",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"details-box",children:[e.jsx("div",{className:"address-box",children:e.jsxs("ul",{children:[e.jsxs("li",{children:[s.address_type,","]}),e.jsxs("li",{children:[s.area,", ",s.flat,","]}),e.jsxs("li",{children:[s.floor,", ",s.postal_code]})]})}),e.jsx("div",{className:"address-box",children:e.jsxs("ul",{children:[e.jsxs("li",{className:"theme-color",children:["Issue Date :"," ",e.jsxs("span",{className:"text-content",children:[g(s.updated_at),","]})]}),e.jsxs("li",{className:"theme-color",children:["Invoice No :"," ",e.jsxs("span",{className:"text-content",children:[n,","]})]}),e.jsxs("li",{className:"theme-color",children:["Phone No :"," ",e.jsx("span",{className:"text-content",children:s.address_phone})]})]})})]})})})}),e.jsx("div",{className:"invoice-table",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice Date:"}),e.jsx("th",{children:"Invoice No:"}),e.jsx("th",{children:"Payment Mode:"}),e.jsx("th",{children:"Total Amount:"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:h}),e.jsx("td",{children:n}),e.jsx("td",{children:s.payment_mode}),e.jsxs("td",{children:["₹",s.total_price]})]})})]})})}),e.jsx("div",{className:"invoice-table-2",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{className:"text-start",children:"Item detail"}),e.jsx("th",{children:"Qty"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Amout"})]})}),e.jsxs("tbody",{children:[s.products&&Array.isArray(s.products)&&s.products.length>0?s.products.map((t,c)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-content",children:c+1}),e.jsx("td",{children:e.jsx("ul",{className:"text-start item-detail",children:e.jsx("li",{children:t.product_name})})}),e.jsxs("td",{children:[t.unit," ",t.weight_type]}),e.jsxs("td",{children:["₹",t.product_price]}),e.jsxs("td",{children:["₹",t.price]})]},c)):e.jsx("div",{children:"No products found."}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-content",children:"-"}),e.jsx("td",{children:e.jsx("ul",{className:"text-start item-detail",children:e.jsx("li",{children:"Shipping Cost"})})}),e.jsx("td",{children:"-"}),e.jsx("td",{children:"₹50"}),e.jsx("td",{children:"₹50"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-content",children:"-"}),e.jsx("td",{children:e.jsx("ul",{className:"text-start item-detail",children:e.jsx("li",{children:"GST Cost"})})}),e.jsx("td",{children:"-"}),e.jsx("td",{children:"18%"}),e.jsxs("td",{children:["₹",((s.total_price+50)*.18).toFixed(2)]})]})]})]})})}),e.jsx("div",{className:"price-box",children:e.jsx("ul",{children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("div",{className:"div",children:e.jsx("li",{children:"GRAND TOTAL"})}),e.jsx("div",{children:e.jsxs("li",{className:"theme-color me-5",children:["₹",s.total_price]})})]})})})]}),e.jsxs("div",{className:"invoice-footer",children:[e.jsxs("div",{className:"signature-box",children:[e.jsx("img",{src:o,className:"img-fluid h-25 w-25 mt-3",alt:""}),e.jsx("h5",{children:"Authorised Sign"})]}),e.jsx("div",{className:"button-group",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:"btn btn-animation text-white rounded",onClick:a,children:"Export As PDF"})}),e.jsx("li",{children:e.jsx("button",{className:"btn btn-animation text-white print-button rounded ms-2",onClick:a,children:"Print"})})]})})]})]})})})})})};export{w as default};
