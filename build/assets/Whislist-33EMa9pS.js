import{r as l,a as u,j as e,L as d,b as m,B as h}from"./index-WOnQHM8K.js";import{H as b,a as f}from"./HeaderMiddle-xqhyJlO4.js";import{H as N}from"./HeaderBottom-Dy3OY4qr.js";import{F as v}from"./Footer-C9I6UQzh.js";import{P as g}from"./ProductBox-FSZmf6Xn.js";import{a as x}from"./1-BUmjTln7.js";import"./aos-BJiJ9cf7.js";function S(){var o;const[t,j]=l.useState([]),r=u(s=>s.user),c=(o=r==null?void 0:r.user)==null?void 0:o.id;async function n(){try{const i=await(await x.get(`${m}/getWishlist/${c}`)).data;j(i)}catch(s){console.error("Error fetching wishlist data:",s)}}const p=async(s,i)=>{try{const a={userId:s,productId:i};await x.delete(`${m}/deleteWishlist`,{data:a}),h.success("Wishlist item removed successfully"),n()}catch(a){console.error("Error deleting item:",a),h.error("There was a problem removing the wishlist item")}};return l.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container-fluid px-0 overflow-hidden",children:[e.jsxs("header",{className:"pb-md-4 pb-0",children:[e.jsx(b,{}),e.jsx(f,{}),e.jsx(N,{})]}),e.jsx("section",{className:"breadcrumb-section pt-0",children:e.jsx("div",{className:"container-fluid-lg",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"breadcrumb-contain",children:[e.jsx("h6",{children:"Wishlist"}),e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb mb-0",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(d,{to:"/",children:e.jsx("i",{className:"fa-solid fa-house"})})}),e.jsx("li",{className:"breadcrumb-item active",children:"Wishlists"})]})})]})})})})}),e.jsx("div",{className:"container row",children:t&&t.length>0?t.map((s,i)=>e.jsxs("div",{className:"col-lg-3 col-6 position-relative p-3",children:[e.jsx("button",{onClick:()=>p(c,s.product_id),className:"btn btn-sm btn-light btn-close shadow top-0 start-0 z-1 mx-4 mt-3 me-5 position-absolute p-2 rounded-circle",children:"Ã—"}),e.jsx("div",{style:{width:"180px"},children:e.jsx(g,{product_id:s.product_id,imageSrc:JSON.parse(s.product_image),productName:s.product_name,currentPrice:s.product_price,weight:s.weight,weight_type:s.weight_type,inStock:s.stock,discount_price:s.discount_price,compareLink:s.stock,wishlistLink:s.stock,offers:s.offers})})]},`product-${s.product_id}`)):e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center text-center",children:[e.jsx("div",{children:e.jsx("h3",{className:"mt-2",children:"You have no wishlist"})}),e.jsx("div",{children:e.jsx(d,{to:"/",className:"btn btn-animation btn-md fw-bold mt-3 mb-2",children:"Continue to Shopping"})})]})})})]}),e.jsx(v,{})]})}export{S as default};
